<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8">
  <title>QuantOS</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>

<body>

  <nav id="sidebar">
    <div id="logo">
      <span class="logo-icon">â—ˆ</span>
      <span class="logo-text">QuantOS</span>
    </div>
    <ul id="nav-links">
      <li class="nav-item active" data-page="home">
        <span class="nav-icon">ğŸ </span><span class="nav-label">Home</span>
      </li>
      <li class="nav-item" data-page="backtest">
        <span class="nav-icon">ğŸ“Š</span><span class="nav-label">Backtest</span>
      </li>
      <li class="nav-item" data-page="markov">
        <span class="nav-icon">ğŸ”—</span><span class="nav-label">Markov</span>
      </li>
      <li class="nav-item" data-page="optimizer">
        <span class="nav-icon">âš™ï¸</span><span class="nav-label">Optimizer</span>
      </li>
    </ul>
  </nav>

  <main id="main-content">

    <div id="page-home" class="page active">
      <div id="home-container">
        <h1>ğŸ“ˆ QuantOS</h1>
        <p class="subtitle">Deine persÃ¶nliche Quant-Trading-Plattform</p>
        <div id="module-cards"></div>
      </div>
    </div>

    <div id="page-backtest" class="page">

      <div id="perf-panel">
        <div class="panel-header">âš¡ Performance</div>
        <div id="perf-metrics">
          <p class="placeholder">Backtest starten um Ergebnisse zu sehen</p>
        </div>
      </div>

      <div id="backtest-body">

        <div id="panels-container">

          <div id="chart-panel">
            <div class="panel-header">ğŸ“ˆ Chart</div>
            <div class="panel-content">
              <div id="lwc-chart"></div>
              <div class="plot-legend" id="legend-chart"></div>
            </div>
          </div>

          <div id="equity-panel">
            <div class="panel-header">ğŸ“Š Equity Curve</div>
            <div class="panel-content">
              <div id="plotly-equity"></div>
              <div class="plot-legend" id="legend-equity"></div>
            </div>
          </div>

        </div>

        <div id="controls-panel">
          <div class="ctrl-section">
            <div class="ctrl-section-label">DATEN</div>
            <div class="ctrl-row">
              <label>Symbol</label>
              <div class="ctrl-row-inline">
                <input type="text" id="ctrl-symbol" value="SPY">
                <button id="btn-browse-symbols" title="Browse Symbols">ğŸ”</button>
              </div>
            </div>
            <div class="ctrl-row">
              <label>Timeframe</label>
              <select id="ctrl-interval">
                <option value="1d">1 Tag</option>
                <option value="1h">1 Stunde</option>
                <option value="30m">30 Min</option>
                <option value="15m">15 Min</option>
                <option value="5m">5 Min</option>
              </select>
            </div>
            <div class="ctrl-row">
              <label>Von</label>
              <input type="date" id="ctrl-start" value="2024-01-01">
            </div>
            <div class="ctrl-row">
              <label>Bis</label>
              <input type="date" id="ctrl-end" value="2025-01-01">
            </div>
            <div class="ctrl-row">
              <label>Kapital â‚¬</label>
              <input type="number" id="ctrl-capital" value="10000">
            </div>
          </div>

          <div class="ctrl-divider"></div>

          <div class="ctrl-section">
            <div class="ctrl-section-label">STRATEGIE</div>
            <div class="ctrl-row">
              <label>Strategie</label>
              <select id="ctrl-strategy"></select>
            </div>
            <div class="ctrl-row">
              <label>Fast SMA</label>
              <input type="number" id="ctrl-sma" value="20">
            </div>
          </div>

          <div class="ctrl-divider"></div>

          <div class="ctrl-section">
            <div class="ctrl-section-label">INDIKATOREN</div>
            <div class="ctrl-row-inline">
              <select id="ctrl-indicator"></select>
              <button id="btn-add-indicator">â•</button>
            </div>
            <div id="active-indicators"></div>
          </div>

          <div style="flex:1"></div>
          <button id="btn-run">â–¶ Backtest starten</button>
        </div>

      </div>
    </div>

    <div id="page-markov" class="page">
      <div class="coming-soon"><span>ğŸ”—</span>
        <h2>Markov</h2>
        <p>Coming soon</p>
      </div>
    </div>

    <div id="page-optimizer" class="page">
      <div class="coming-soon"><span>âš™ï¸</span>
        <h2>Optimizer</h2>
        <p>Coming soon</p>
      </div>
    </div>

  </main>

  <!-- Symbol Browser Modal -->
  <div id="symbol-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>ğŸ“Š Symbol auswÃ¤hlen</h3>
        <span class="modal-close">&times;</span>
      </div>
      <div class="modal-body">
        <input type="text" id="symbol-search" placeholder="Suche Symbol oder Name...">
        <div id="symbol-list"></div>
      </div>
    </div>
  </div>

  <!-- Scripts (einmalig, korrekte Reihenfolge) -->
  <script src="../node_modules/split.js/dist/split.js"></script>
  <script src="https://unpkg.com/lightweight-charts@4.2.0/dist/lightweight-charts.standalone.production.js"></script>
  <script src="js/api.js"></script>
  <script src="js/symbols.js"></script>
  <script src="js/home.js"></script>
  <script src="js/backtest.js"></script>
  <script src="js/app.js"></script>

</body>

</html>
